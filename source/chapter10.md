## 第10章 响应式视频

When you want to inform, entertain, and give a broad overview with a semi-captive audience, using a video is a great way to communicate your message. If you can get your video to be shared socially or “go viral,” you can be sure you’re on the right track, and your campaign will definitely see the boost.

如果你想通过吸引受众的方式通知、娱乐或是提供一个概览，那么使用视频是一种很好的表达方式。如果你能让你的视频通过社交方式进行共享或是“病毒式传播”，那么你可以确定你在正确的轨道上，你的竞选一定会看到票数增加。
How you handle the playback of your video, however, can either keep people coming back or break your campaign apart. In this chapter, you learn about video as a medium and how to make sure that it plays back on as many devices as possible.￼￼￼￼￼￼￼￼
如果你可以控制视频的重播率，也可以吸引用户回返。本章中你将学到使用视频作为中介，并确保视频在尽可能多的设备上进行播放。
## Using Video
## 使用视频The way mobile users act is a rather fascinating subject. When it comes to searching or browsing a site, they have little patience for a bad interface; and if they can find the information or product somewhere else, they won’t hesitate to leave your site and go there instead. However, when it comes to using social networks, video-sharing sites, and entertainment hubs, they will happily waste minutes to hours to get the content they want.

移动用户行为的方式是相当吸引人的课题。搜索或浏览一个网站的时候，用户对糟糕的界面几乎完全没有耐心；如果能看到信息或产品之外的东西，用户会迫不及待地离开你的网站前往。然而，如果使用的是社交网络、视频分享网站或者休闲娱乐中心，用户为了得到他们想要的，会开心地花费几十分钟甚至几个小时。
People love to share things. They love to be first and to get credit for being the first to pin, plus, like, share, or mention something. This why using a video can be what tips the balance in making a user complete a purchase.
人们热爱分享。人们热爱第一，喜欢是第一的信誉，另外，喜欢分享和谈论。这是为什么使用一个视频可以是在一个用户完成购买时的平衡。Even if the product isn’t something you currently need, or even something you were thinking of purchasing, watching a video makes you more likely to think of it and could increase the odds of your completing a purchase later.

即使这个产品不是你现在需要的东西，甚至并不是你正在考虑购买的东西，但是看一段视频更有可能让你去思考这个产品，可以增加你完成购买的可能性。An interesting development that has swept social media sharing is the advent of sharable short videos. Popular social applications such as Vine and Instagram both feature short videos as a means of sharing. This doesn’t mean you should be making 5- to 15-second videos, but it does mean that there is a demand for fast, easy-to-share videos.

可共享的短视频的出现促进了社会媒体分享的引人关注的发展。流行的社交应用，例如Vine和Instagram，都有短视频分享的功能。这并不意味着你应该做5-15秒的视频，但它确实意味着用户有快速、易于共享视频的需求。As with standard site performance, with videos, the faster you can deliver the message the better it is going to be received. In this regard, it is very important that you use a quality provider or else have a content delivery network (CDN) provider that can keep pace with your distribution and demand.
与标准站点性能类似，通过视频，你可以交付消息的速度越快将收效越好。在这方面，速度是非常重要的，你可以使用一个质量提供者或其他内容分发网络(CDN)提供者，可以跟上你的视频分发和需求。
小贴士Using a CDN has the potential to speed up your content delivery. This is accomplished by hosting your content on multiple servers in various parts of the world. Whenever a user requests an asset from the CDN, the server closest to the user responds and sends the asset. The greater the distance from a user to your content, the bigger the benefit of using a CDN. Several popular CDN providers that you might want to take a look at are Akamai, CloudFlare, MaxCDN, and Limelight Networks.

使用CDN可以潜在地加快内容分发速度。这是通过在世界的各个地区在多个服务器上托管你的内容来达到提速效果的。当用户请求在CDN上的资源时，距离用户最近的服务器响应并发送资源。与用户的距离越远，使用CDN的好处越大。可能想看一看几种流行的CDN提供商：Akamai、CloudFlare、MaxCDN和Limelight Networks。
## 分发系统You can use a variety of ways to get the videos from your server to the device your consumer is using. The price of doing this varies considerably based on the features you need to accomplish your distribution goals.

你可以通过多种方式为你的用户所使用的设备服务。这么做的成本是根据你需要完成你的销售目标而变化的。
Before deciding on a content provider, you need to consider the following:■ Available bitrate■ Device-specific playback■ HTML5 versus Flash player■ CDN availability■ Minimum transfer speed■ File size constraints■ Social sharing options■ Player customization■ Video protection, including region and domain locking■ Ad integration support
在决定选用哪家内容提供商之前，你需要考虑以下几点：
* 可用比特率
* 特定设备的播放
* 支持HTML5 或 Flash player
* 是否支持CDN
* 最小传输速率
* 文件大小限制
* 社会共享选项
* 玩家定制
* 视频保护，包括地区和区域锁定
* 广告集成支持Knowing what your needs are up front will save you from an expensive contract and from not getting the features that you need.

要知道你需要预先了解以上几点，以避免签了昂贵的合同却没有得到你所需要的功能。### Limelight 网络Limelight Networks (www.limelight.com/) is a content delivery network (CDN) that provides services for content, application, and video delivery. It provides a solution that is geared toward enterprise users, but I have found the staff to be friendly and willing to help meet your personal needs.
Limelight 网络(www.limelight.com/)是CDN服务商，提供内容服务、应用服务和视频分发。它提供面向企业用户的解决方案，但我发现他们的工作人员是非常友好的，乐于帮助满足你的个人需求。Key features of using Limelight Networks for video distribution include these:■ Worldwide CDN to distribute video■ HTML5 video playback available■ Domain locking for content available■ FTP video upload■ Branded video player■ Video player with available bandwidth detection■ Transcoding services available■ iOS friendly■ Video analytics■ Advertisement support■ Social sharing options■ Playlist support■ Custom content channel creation

使用Limelight网络视频分布的关键特性包括这些：
* 全球CDN分发视频
* 支持HTML5视频回放
* 内容可区域锁定
* 支持FTP上传视频
* 品牌视频播放器
* 视频播放器支持可用带宽检测
* 支持代码转换服务
* 支持iOS
* 支持视频分析
* 支持广告
* 社交分享选项
* 支持播放列表
* 支持创建自定义内容频道Being able to change the bitrate of the video streaming to the device viewing the video is important because it allows users to spend less time buffering and more time watching your content. Limelight is a very competitive solution that is actively improving its services to exceed the offerings of its competitors. The Limelight website does not offer pricing information, but signing up for a free trial gets you in touch with a representative who will be more than happy to customize a plan to fit your needs.
AkamaiAkamai (www.akamai.com/) has a reputation of being a world leader in web distribution services. It attained this reputation by providing fast, reliable services. The Sola part of the Akamai family is exclusively focused on video storage, delivery, and protection. With many offered services, the bulk of Akamai’s services lean toward the enterprise user who is looking for subscription or providers who need content protected from content thieves.
Some of the key features of Akamai Sola are as follows:■ Distribution from the Akamai CDN■ Domain and region lock, as well as DRM services■ Adaptive bitrate playback■ Multiple protocol support, including HLS, HDS, and MPEG-DASH■ Media analytics■ Advertisement support
Akamai is in the same category as Limelight Networks, so getting a price is heavily geared toward working with a representative that will customize the service to your needs.Brightcove
One of the newer video content providers, Brightcove, has radically evolved in the past few years from a simple content provider to one of the leading-edge video distributors. It offers a product called Video Cloud with a varied pricing model that works for everyone from small business to mammoth enterprise users. As a premier leader, it offers many of the same features as other competitors.
Key features of Brightcove Video Cloud include these:■ Transcoding services■ Media analytics■ Custom players■ HTML5 playback support
* Mobile device support■ Bandwidth and bitrate detection■ Bulk upload transcoding service■ Capability to schedule and synchronize video upload to YouTube channels■ Advertising support■ Domain, region, and DRM support (RMTPe and SWF)Because this is a newer service, you might have reservations about the quality and reliability of service. However, I have used Brightcove on projects over the last three years and have found that it readily meets the demands of users and also constantly upgrades and improves its current offerings. It has a helpful support staff and is quick to reply to emails and calls. If you are seriously looking into adding video playback into your site, Brightcove is worth your consideration.
Vimeo
Vimeo (https://vimeo.com/) has fought a considerable battle against formidable foes such as YouTube. That doesn’t mean Vimeo is tired and ready to hang up the towel, though. On the contrary, it is rolling out new features, support, and plans for meeting even the most demand- ing video sites.
As one of the first sites to allow user-uploaded videos that could go beyond the 10-minute mark without a special seal of approval, Vimeo has gained a reputation for hosting strikingly visual masterpieces that are more akin to a fully funded production effort than user-produced videos.Features available with Vimeo are as follows:■ Embeddable video■ Customizable branded video player*■ Video groups■ Video channels■ Video albums■ Analytics*■ Domain-restricted videos*■ Vimeo On Demand*■ Transcoded videoMultiple account types are available, and each has a slightly richer feature set. If you are a busi- ness user, Vimeo is worth looking at because it has reasonable storage limits and one of the best bandwidth policies of most video-streaming services. Also a plus for those who would like to sell videos, the Vimeo On Demand feature allows you to sell your content.
YouTubeYouTube has been the creative and quick-to-video outlet for the masses of people on the Inter- net who want to be discovered, share something amazing, or quickly share a video with friends and family.YouTube has continued to roll out new features, including an HTML5 video player and mobile device support, and it is the engine behind videos embedded into Google+.
The popular features of YouTube are as follows:■ Free with Google account sign-up■ Embeddable videos■ Transcoded video■ Bandwidth detection and adjustment■ Channel support■ Integration with Google+ and Google Search■ Limited advertisement support
YouTube is a popular platform to use because it is available at one of my favorite prices: free. It also handles much of the heavy lifting, including adding ads to your videos to help generate revenue, and will create multiple versions of your video for playback on most devices. The cost of all of this is the fact that, when your video is finished playing, you get a wall of “similar” videos that might show questionable content or direct your viewers to another product or service or an unflattering review of your brand. That is not to say that you shouldn’t still lever- age the power and influence of YouTube—just be sure to consider the cons before committing to using it as your only streaming provider.Making Videos Fit Mobile Devices
After you decide on a service to use as your video provider and you upload your video, it is time to add the video to your page.Unfortunately, when it comes to mobile devices, this is not a simple plug-and-play process. Figure 10.1 shows what happens when a video that has not been optimized for mobile devices is played back on a mobile device.
Figure 10.1 The video is not properly sized for the screen.This doesn’t completely stop users from enjoying the video, though, and they should have the option to make the video go full screen.Another problem that you might face is launching the video into a modal. Figure 10.2 shows a possible issue when using video playback with a modal window.Figure 10.2 shows a terrible UI. Even worse, the user might not be able to close the modal with- out reloading the page, touching the Back button, or leaving your site.Using Intrinsic RatioWith both the issues shown in Figure 10.1 and 10.2, the video player is not properly sized to the device. You can solve this by using the same intrinsic ratio logic used in dealing with responsive images. To see how this works, consider an example YouTube video.
Figure 10.2 The modal window is bigger than the screen viewing it, making the video—and, more importantly, the Close button—completely inaccessible. It also is confusing because a user might have no idea why the screen has gone almost completely black, with no way to start or stop the video.If you have ever used the embed code from YouTube, you should recognize the following:<iframewidth="640"height="360" src="//www.youtube.com/embed/yXXZSbx2lrc" frameborder="0"allowfullscreen></iframe>Nothing is wrong with the iframe code, per se; however, it does not contain any code to help the video fit the device that is viewing it. Figure 10.3 demonstrates how the video is viewed on a mobile device.
Figure 10.3 Even though the site is responsive, the embedded video is not and breaks out of frame.
Tip
Remember that when using an intrinsic ratio, you need to know the aspect ratio of the video. Generally, most videos have an aspect ratio of 4:3, 3:2, or 16:9.If you need to figure out the aspect ratio of your video, you will need the pixel values for the width and height of your video. You can then use a ratio calculator to get the aspect ratio that will be used to figure out the intrinsic ratio. A calcu- lator is available to help you figure out the intrinsic and aspect ratios at www. mobiledesignrecipes.com/ratio-calculator/.To make this work, you need to add the HTML for a container that you can use to attach the intrinsic ratio to:<div class="video-wrapper"> <iframeclass="video"
width="640"height="360" src="//www.youtube.com/embed/yXXZSbx2lrc" frameborder="0"allowfullscreen></iframe></div>Note that the formatting of the code has been changed for readability; otherwise, the entire iframe element would be on one line. Now that the HTML has been taken care of, you need to add the styles that will make the video scale to fit the screen:.video-wrapper { position: relative; padding-bottom: 56.25%; height: 0;}.video {position: absolute; top: 0;left: 0;width: 100%; height: 100%;}In this CSS snippet, the intrinsic ratio is used to set up the padding-bottom value. The current value of 56.25% works for videos with an aspect ratio of 16:9. Depending on the aspect ratio of your video, you need to change this value. To determine the value you should use, you can use the ratio calculator at www.mobiledesignrecipes.com/ratio-calculator/.With the HTML and CSS in place, the video should now scale to fit the device viewing it. Figure 10.4 shows the video playing back on a mobile device.Using the Native PlayerAnother option to consider is having your video play in the native video player of the device. Using the native player offers many benefits, including these:■ Users are more likely to understand how the player works.■ Lower bitrates can be used for more device compatibility.■ Video can be streamed without a third-party service.Using the native player is triggered by serving a “native” file to the device. This can be done by linking directly to the file, using a shortened URL, or even using a QR code that forwards directly to a video.
Figure 10.4 The size of the video now changes to match the size of the screen that is viewing it.To see this in action for yourself, open the browser on your mobile device and go to http://goo.gl/rqlkHC.TipIf you decide to use a short URL or a QR code, it is important that you strongly consider using a landing page to launch or watch the video. This gives users some- thing to read or look at while they wait for the video to download, buffer, and start playback. Try using the link http://goo.gl/B4t9ry to see what a landing page could look like instead of launching directly to the native player.If you do not happen to have your mobile device available, the link also works in any browser that can play back MP4-encoded videos, such as Chrome. Figure 10.5 shows what the native player on an Android device looks like.
Figure 10.5 The video is displayed full screen, and the Play/Pause button as well as the scrubbing controls are currently visible.Using a PluginIf you decide that you do not want to handle figuring out any ratios or cluttering up your styles with extra entries, you might want to opt for a JavaScript plugin.One of my favorite plugins for handling responsive video is FitVids.js (http://fitvidsjs.com/). This is a jQuery plugin that can be used with popular video-sharing sites such as YouTube and Vimeo.The implementation of FitVids.js is beyond the scope of this chapter, but I can tell you that it is a simple plugin to incorporate into your site. For documentation, including how to incorporate FitVids.js into your site, visit the GitHub site at https://github.com/davatron5000/FitVids.js/.
SummaryIn this chapter, you learned about why using video in your site matters, and you discovered some providers that you can leverage for content delivery.You also learned why responsive videos are important and how to make them responsive on your site. This is accomplished by using the intrinsic ratio, the native device player, or a plugin such as FitVids.js.